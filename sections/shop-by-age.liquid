{% liquid
  assign first_block = section.blocks | first
  assign active_collection_handle = blank
  assign active_collection = blank

  if first_block != blank
    assign active_collection = first_block.settings.collection
    if active_collection != blank
      assign active_collection_handle = active_collection.handle
    endif
  endif
%}

<div class="section-background color-{{ section.settings.color_scheme }}"></div>
<div
  data-testid="shop-by-age"
  class="
    section
    section--{{ section.settings.section_width }}
    color-{{ section.settings.color_scheme }}
    section-resource-list
    spacing-style
    gap-style
    shop-by-age-section
  "
  style="
    {%- render 'spacing-style', settings: section.settings -%}
    {%- render 'gap-style', value: section.settings.gap -%}
  "
>
  <div class="shop-by-age-header">
    {% if section.settings.heading != blank or section.settings.subheading != blank %}
      <div class="shop-by-age-header-text">
        {% if section.settings.heading != blank %}
          <h2 class="shop-by-age-heading">{{ section.settings.heading }}</h2>
        {% endif %}
        {% if section.settings.subheading != blank %}
          <p class="shop-by-age-subheading">{{ section.settings.subheading }}</p>
        {% endif %}
      </div>
    {% endif %}

    {% if section.blocks.size > 0 %}
      <div class="shop-by-age-tabs-container">
        <div class="shop-by-age-tabs">
          {% for block in section.blocks %}
            {% assign block_collection = block.settings.collection %}
            {% assign tab_name = blank %}
            {% if block.settings.name != blank %}
              {% assign tab_name = block.settings.name %}
            {% elsif block_collection != blank %}
              {% assign tab_name = block_collection.title %}
            {% endif %}
            {% if block_collection != blank and tab_name != blank %}
              <button
                class="shop-by-age-tab {% if forloop.first %}active{% endif %}"
                data-target="{{ block_collection.handle }}"
                data-block-id="{{ block.id }}"
                type="button"
                aria-controls="content-{{ block_collection.handle }}"
                aria-selected="{% if forloop.first %}true{% else %}false{% endif %}"
              >
                {{ tab_name }}
              </button>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    {% endif %}
  </div>

  {% if section.blocks.size > 0 %}
    <div class="shop-by-age-contents">
      {% for block in section.blocks %}
        {% assign block_collection = block.settings.collection %}
        {% assign block_sub_collections = blank %}
        {% assign block_sub_collections_count = 0 %}

        {% if block_collection != blank %}
          {% assign metafield_value = block_collection.metafields.custom.cb_sub_collections %}
          {% if metafield_value != blank and metafield_value.value != blank %}
            {% assign block_sub_collections = metafield_value.value %}
            {% if block_sub_collections != blank %}
              {% assign block_sub_collections_count = block_sub_collections.size %}
              {% if block_sub_collections_count == 0 %}
                {% assign block_sub_collections = blank %}
              {% endif %}
            {% endif %}
          {% endif %}
        {% endif %}

        <div
          class="shop-by-age-content-wrapper {% unless forloop.first %}hidden{% endunless %}"
          id="content-{% if block_collection.handle %}{{ block_collection.handle }}{% else %}block-{{ block.id }}{% endif %}"
          data-block-id="{{ block.id }}"
          data-collection-handle="{% if block_collection.handle %}{{ block_collection.handle }}{% else %}{{ block.id }}{% endif %}"
          {% unless forloop.first %}style="display: none;"{% endunless %}
        >
          {% if block_sub_collections != blank %}
            {% capture list_items %}
              {% for sub_collection in block_sub_collections %}
                <div class="resource-list__item">
                  <div class="shop-by-age-card">
                    <a href="{{ sub_collection.url }}" class="shop-by-age-card__link">
                      <div class="shop-by-age-card__image-wrapper">
                        {% if sub_collection.featured_image %}
                          {{
                            sub_collection.featured_image
                            | image_url: width: 800
                            | image_tag: loading: 'lazy', class: 'shop-by-age-card__image', alt: sub_collection.title
                          }}
                        {% else %}
                          <div class="shop-by-age-card__placeholder">
                            {{ sub_collection.title | truncate: 60 }}
                          </div>
                        {% endif %}
                        <div class="shop-by-age-card__title-overlay">
                          <span class="shop-by-age-card__title">{{ sub_collection.title }}</span>
                        </div>
                      </div>
                    </a>
                  </div>
                </div>
                {% unless forloop.last %}
                  <!--@list/split-->
                {% endunless %}
              {% endfor %}
            {% endcapture %}

            {% liquid
              assign list_items_array = list_items | strip | split: '<!--@list/split-->'
              assign valid_items = list_items_array.size
            %}

            {% if valid_items > 0 %}
              {% capture carousel_ref %}shopByAge{{ block.id }}{% endcapture %}
              {% render 'resource-list',
                list_items: list_items,
                list_items_array: list_items_array,
                settings: section.settings,
                carousel_ref: carousel_ref,
                slide_count: valid_items,
                content_type: 'collections',
                test_id: 'shop-by-age'
              %}
            {% else %}
              <div class="shop-by-age-empty">
                <p>No sub-collections found for this collection.</p>
              </div>
            {% endif %}
          {% else %}
            <div class="shop-by-age-empty">
              <p>No sub-collections found for this collection.</p>
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>

    <div class="shop-by-age-scrollbar-indicator hidden--desktop">
      <div class="shop-by-age-scrollbar-track">
        <div class="shop-by-age-scrollbar-thumb"></div>
      </div>
    </div>

    {% if section.settings.enable_shop_all and first_block != blank and active_collection != blank %}
      <div class="shop-by-age-footer">
        {% assign first_tab_name = blank %}
        {% if first_block.settings.name != blank %}
          {% assign first_tab_name = first_block.settings.name %}
        {% else %}
          {% assign first_tab_name = active_collection.title %}
        {% endif %}
        <a href="{{ active_collection.url }}" class="shop-by-age-shop-all-btn" data-collection-handle="{{ active_collection_handle }}">
          SHOP ALL {{ first_tab_name | upcase }}
        </a>
      </div>
    {% endif %}
  {% endif %}
</div>

{% stylesheet %}
  .shop-by-age-header {
    text-align: center;
    margin-bottom: 4px;
  }

  .shop-by-age-header-text {
    margin-bottom: 0;
  }

  .shop-by-age-heading {
    margin: 0;
    font-family: 'Outfit', sans-serif;
    font-weight: 400;
    font-size: 30px;
    line-height: 150%;
    color: #7295BB;
    text-align: center;
    text-transform: lowercase;
  }

  .shop-by-age-subheading {
    margin: 0;
    font-weight: 500;
    font-size: 24px;
    line-height: 150%;
    text-transform: uppercase;
    color: #1D425A;
    text-align: center;
  }

  @media screen and (min-width: 750px) {
    .shop-by-age-header {
      margin-bottom: 7px;
    }

    .shop-by-age-heading {
      font-size: 38px;
    }

    .shop-by-age-subheading {
      font-size: 32px;
    }
  }

  .shop-by-age-tabs-container {
    margin-top: 16px;
    margin-bottom: 0;
    overflow-x: auto;
    padding-bottom: 10px;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .shop-by-age-tabs-container::-webkit-scrollbar {
    display: none;
  }

  .shop-by-age-tabs {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
  }

  @media screen and (min-width: 750px) {
    .shop-by-age-tabs-container {
      display: flex;
      justify-content: center;
    }
  }

  @media screen and (max-width: 749px) {
    .shop-by-age-tabs {
      gap: 0;
      flex-wrap: nowrap;
      justify-content: flex-start;
    }
  }

  .shop-by-age-tab {
    background: transparent;
    border: none;
    padding: 8px 16px;
    cursor: pointer;
    font-family: 'Outfit', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 20.3px;
    letter-spacing: 0%;
    text-align: center;
    text-transform: uppercase;
    color: #1D425A;
    text-decoration: none;
    position: relative;
    transition: all 0.3s ease;
  }

  .shop-by-age-tab:hover {
    opacity: 0.8;
  }

  .shop-by-age-tab.active {
    font-weight: 500;
    font-size: 16px;
    line-height: 100%;
    letter-spacing: 0%;
    color: #1D425A;
    padding: 8px 16px;
    border-bottom: 2px solid #1D425A;
  }

  @media screen and (max-width: 749px) {
    .shop-by-age-tab {
      font-size: 14px;
      line-height: 20.3px;
      flex: 0 0 auto;
      white-space: nowrap;
    }

    .shop-by-age-tab.active {
      font-size: 14px;
    }
  }

  .shop-by-age-content-wrapper {
    animation: fadeIn 0.5s ease-out forwards;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .shop-by-age-empty {
    text-align: center;
    padding: 40px 20px;
    color: #666;
  }

  .shop-by-age-footer {
    margin-top: 32px;
    text-align: center;
  }

  @media screen and (max-width: 749px) {
    .shop-by-age-footer {
      margin-top: 30px;
    }
  }

  .shop-by-age-shop-all-btn {
    display: inline-block;
    padding: 10px;
    border: 1px solid #7295BB;
    background: transparent;
    color: #7295BB;
    text-decoration: none;
    font-family: 'Outfit', sans-serif;
    font-style: normal;
    font-weight: 500;
    font-size: 16px;
    line-height: 140%;
    text-transform: uppercase;
    transition: all 0.3s ease;
    border-radius: 0;
  }

  .shop-by-age-shop-all-btn:hover {
    background-color: #7295BB;
    color: #ffffff;
  }

  /* Collection card – same design as Featured Blogs / Collection Slider */
  .shop-by-age-section .shop-by-age-card {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .shop-by-age-section .shop-by-age-card__link {
    display: block;
    width: 100%;
    height: 100%;
    text-decoration: none;
  }

  .shop-by-age-section .shop-by-age-card__image-wrapper {
    position: relative;
    aspect-ratio: 4 / 5;
    overflow: hidden;
  }

  .shop-by-age-section .shop-by-age-card__image-wrapper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, rgba(0, 0, 0, 0) 53.36%, #000000 121.94%);
    z-index: 1;
    pointer-events: none;
  }

  .shop-by-age-section .shop-by-age-card__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .shop-by-age-section .shop-by-age-card__placeholder {
    width: 100%;
    height: 100%;
    background: #F7F7F7;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--padding-lg);
    font-size: var(--font-size--lg);
    color: var(--color-foreground);
    text-align: center;
  }

  .shop-by-age-section .shop-by-age-card__title-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 2;
    padding: 0 24px 24px;
    pointer-events: none;
    text-align: center;
  }

  .shop-by-age-section .shop-by-age-card__title {
    display: block;
    font-weight: 400;
    font-size: 22px;
    line-height: 150%;
    color: #FFFFFF;
    text-transform: uppercase;
  }

  @media (max-width: 749px) {
    .shop-by-age-section .shop-by-age-card__image-wrapper {
      aspect-ratio: 4 / 5;
    }

    .shop-by-age-section .shop-by-age-card__image-wrapper::before {
      background: linear-gradient(180.06deg, rgba(0, 0, 0, 0) 45.21%, #000000 121.86%);
    }

    .shop-by-age-section .shop-by-age-card__title-overlay {
      padding: 0 12px 13px;
    }

    .shop-by-age-section .shop-by-age-card__title {
      font-size: 14px;
      line-height: 150%;
    }
  }

  /* Desktop – same as Featured Blogs / Collection Slider */
  @media screen and (min-width: 750px) {
    .shop-by-age-section .shop-by-age-content-wrapper .resource-list.force-full-width {
      grid-column: 2 !important;
    }

    .shop-by-age-section .resource-list__carousel {
      --peek-next-slide-size: 0px !important;
    }

    .shop-by-age-section .resource-list__carousel .resource-list__slide {
      --section-slide-width: calc(
        (100% - (var(--resource-list-column-gap, var(--resource-list-column-gap-desktop, 12px)) * (var(--column-count, 4) - 1)) - var(--peek-next-slide-size, 0px)) /
          var(--column-count, 4)
      );
      --fallback-slide-width: clamp(150px, var(--mobile-card-size, 60vw), var(--slide-width-max, 450px));
      --slide-width: var(--section-slide-width, var(--fallback-slide-width)) !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-slides {
      padding-inline: 0 !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-component {
      overflow: visible;
    }

    .shop-by-age-section .resource-list__carousel slideshow-container {
      position: relative;
      overflow: visible;
    }

    .shop-by-age-section .resource-list__carousel slideshow-arrows {
      position: absolute;
      top: 0;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: calc(100%);
      pointer-events: none;
      z-index: var(--layer-heightened);
      display: flex !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-arrows[position='center'] {
      justify-content: space-between;
      align-items: center;
      padding: 0;
    }

    .shop-by-age-section .resource-list__carousel slideshow-arrows .slideshow-control {
      position: absolute;
      margin: 0;
      pointer-events: auto;
      top: 50%;
      transform: translateY(-50%);
      opacity: 1;
      transition: opacity 0.3s ease-out;
    }

    .shop-by-age-section .resource-list__carousel slideshow-arrows .slideshow-control--previous {
      left: -60px;
    }

    .shop-by-age-section .resource-list__carousel slideshow-arrows .slideshow-control--next {
      right: -60px;
    }

    .shop-by-age-section {
      overflow-x: clip;
    }

    /* Tablet: 3 tiles per row (750-1024px) - match explore-more-products */
    @media (min-width: 750px) and (max-width: 1024px) {
      .shop-by-age-section .resource-list,
      .shop-by-age-section .resource-list__carousel {
        --column-count: 3 !important;
        --gutter-slide-width: 0px !important;
      }
      
      .shop-by-age-section .resource-list__carousel .resource-list__slide {
        width: calc((100% - (var(--resource-list-column-gap-desktop, 12px) * 2)) / 3) !important;
        max-width: calc((100% - (var(--resource-list-column-gap-desktop, 12px) * 2)) / 3) !important;
        flex: 0 0 calc((100% - (var(--resource-list-column-gap-desktop, 12px) * 2)) / 3) !important;
      }

      /* Enable scroll snap and scrolling on tablet */
      .shop-by-age-section .resource-list__carousel slideshow-component[disabled='true'] slideshow-slides {
        overflow-x: auto !important;
      }

      .shop-by-age-section .resource-list__carousel slideshow-slides {
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
      }

      .shop-by-age-section .resource-list__carousel .resource-list__slide {
        scroll-snap-align: start;
      }
    }

    @media (min-width: 1201px) {
      .shop-by-age-section .slideshow-control--style-chevron {
        border: 2px solid #7295bb;
      }
      .shop-by-age-section .slideshow-control--style-chevron svg path {
        stroke: #7295bb;
        fill: none;
      }
    }

    @media (max-width: 1200px) {
      .shop-by-age-section .resource-list__carousel slideshow-arrows .slideshow-control--previous {
        left: 0px;
      }
      .shop-by-age-section .resource-list__carousel slideshow-arrows .slideshow-control--next {
        right: 0px;
      }
      .shop-by-age-section .slideshow-control--style-chevron {
        background-color: #7295bb;
      }
      .shop-by-age-section .slideshow-control--style-chevron svg path {
        stroke: #ffffff;
        fill: none;
      }
    }
  }

  /* Mobile – same as Featured Blogs / Collection Slider */
  @media screen and (max-width: 749px) {
    /* Breakout: content-wrappers span full grid so carousel container = full width (48cqw matches Collection Slider ~172px) */
    .shop-by-age-section .shop-by-age-contents {
      display: contents;
    }

    .shop-by-age-section .shop-by-age-content-wrapper {
      grid-column: 1 / -1;
    }

    .shop-by-age-section .shop-by-age-content-wrapper .resource-list.force-full-width {
      grid-column: 1 / -1;
    }

    .shop-by-age-section.section--page-width {
      padding-inline-start: var(--page-margin, 16px) !important;
      padding-inline-end: 0 !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-component {
      --cursor: grab;
      padding-bottom: 0 !important;
      margin-bottom: 0 !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-container {
      padding-bottom: 0 !important;
      margin-bottom: 0 !important;
      overflow: visible;
    }

    .shop-by-age-section .resource-list__carousel slideshow-component[disabled='true'] slideshow-slides {
      overflow-x: auto !important;
    }

    /* Set mobile to show 2 columns - match explore-more-products */
    .shop-by-age-section .resource-list,
    .shop-by-age-section .resource-list__carousel {
      --column-count: 2 !important;
      --gutter-slide-width: 0px !important;
    }

    /* Override mobile slide width to use column-count calculation - match explore-more-products */
    .shop-by-age-section .resource-list__carousel .resource-list__slide {
      --section-slide-width: calc(
        (100% - (var(--resource-list-column-gap, 5px) * (var(--column-count, 2) - 1))) / var(--column-count, 2)
      );
      --slide-width: var(--section-slide-width) !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-slides {
      gap: 5px !important;
      overflow-x: auto !important;
      scrollbar-width: none;
      -ms-overflow-style: none;
      -webkit-overflow-scrolling: touch;
      scroll-snap-type: x mandatory;
      padding-bottom: 0 !important;
      margin-bottom: 0 !important;
      padding-inline-start: 0 !important;
      padding-inline-end: 0 !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-slides::-webkit-scrollbar {
      display: none;
      width: 0;
      height: 0;
    }

    /* Each slide should snap to show 2 full items - match explore-more-products */
    .shop-by-age-section .resource-list__carousel .resource-list__slide {
      scroll-snap-align: start;
    }

    /* Add padding to last slide so it doesn't touch edge when scrolled to end */
    .shop-by-age-section .resource-list__carousel slideshow-slide:last-child {
      padding-inline-end: var(--page-margin, 16px);
    }

    .shop-by-age-section .resource-list__carousel slideshow-component,
    .shop-by-age-section .resource-list__carousel slideshow-container {
      padding-inline-start: 0 !important;
      padding-inline-end: 0 !important;
    }

    .shop-by-age-section .resource-list__carousel slideshow-arrows {
      display: none !important;
    }

    .shop-by-age-section.section--page-width > .shop-by-age-scrollbar-indicator {
      grid-column: 1 / -2;
      width: 100%;
    }

    .shop-by-age-scrollbar-indicator {
      width: 100%;
      height: 4px;
      position: relative;
      margin-top: 12px;
    }

    .shop-by-age-scrollbar-track {
      width: 100%;
      height: 4px;
      background-color: #EEEEEE;
      border-radius: 10px;
      position: relative;
      overflow: hidden;
    }

    .shop-by-age-scrollbar-thumb {
      height: 4px;
      background-color: #7295BB;
      border-radius: 10px;
      position: absolute;
      left: 0;
      top: 0;
      transition: width 0.1s ease-out;
      min-width: 20px;
    }
  }
{% endstylesheet %}

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const section = document.getElementById('shopify-section-{{ section.id }}');
    const tabs = section ? section.querySelectorAll('.shop-by-age-tab') : [];
    const contents = section ? section.querySelectorAll('.shop-by-age-content-wrapper') : [];
    const shopAllBtn = section ? section.querySelector('.shop-by-age-shop-all-btn') : null;

    const collectionsData = {};
    {% for block in section.blocks %}
      {% assign block_collection = block.settings.collection %}
      {% assign tab_name = blank %}
      {% if block.settings.name != blank %}
        {% assign tab_name = block.settings.name %}
      {% elsif block_collection != blank %}
        {% assign tab_name = block_collection.title %}
      {% endif %}
      {% if block_collection != blank and tab_name != blank %}
        collectionsData['{{ block_collection.handle }}'] = {
          title: {{ tab_name | json }},
          url: "{{ block_collection.url }}"
        };
      {% endif %}
    {% endfor %}

    /* Single scrollbar (direct section child) – same as Collection Slider / Other Collections */
    const scrollbarThumb = section ? section.querySelector('.shop-by-age-scrollbar-thumb') : null;
    const scrollbarIndicator = section ? section.querySelector('.shop-by-age-scrollbar-indicator') : null;
    const allSlides = section ? section.querySelectorAll('.shop-by-age-content-wrapper slideshow-slides') : [];

    let updateScrollbar = function() {};
    if (scrollbarThumb && scrollbarIndicator && allSlides.length) {
      updateScrollbar = function() {
        const visibleContent = section.querySelector('.shop-by-age-content-wrapper:not(.hidden)');
        const mobileSlides = visibleContent ? visibleContent.querySelector('slideshow-slides') : null;
        if (!mobileSlides) {
          scrollbarIndicator.style.display = 'none';
          return;
        }
        const scrollLeft = mobileSlides.scrollLeft;
        const scrollWidth = mobileSlides.scrollWidth;
        const clientWidth = mobileSlides.clientWidth;
        const maxScroll = scrollWidth - clientWidth;
        if (maxScroll <= 0) {
          scrollbarIndicator.style.display = 'none';
          return;
        }
        scrollbarIndicator.style.display = 'block';
        const thumbWidth = (clientWidth / scrollWidth) * 100;
        const thumbPosition = (scrollLeft / maxScroll) * (100 - thumbWidth);
        scrollbarThumb.style.width = thumbWidth + '%';
        scrollbarThumb.style.left = thumbPosition + '%';
      };

      allSlides.forEach(function(sl) {
        sl.addEventListener('scroll', updateScrollbar);
      });
      const resizeObserver = new ResizeObserver(updateScrollbar);
      allSlides.forEach(function(sl) { resizeObserver.observe(sl); });
      updateScrollbar();
      setInterval(updateScrollbar, 100);
    }

    tabs.forEach(tab => {
      tab.addEventListener('click', function() {
        const targetHandle = this.dataset.target;

        tabs.forEach(t => {
          t.classList.remove('active');
          t.setAttribute('aria-selected', 'false');
        });
        this.classList.add('active');
        this.setAttribute('aria-selected', 'true');

        contents.forEach(content => {
          if (content.dataset.collectionHandle === targetHandle) {
            content.style.display = 'block';
            content.classList.remove('hidden');
            content.style.animation = 'none';
            content.offsetHeight;
            content.style.animation = 'fadeIn 0.5s ease-out forwards';

            const slideshow = content.querySelector('slideshow-component');
            if (slideshow && slideshow.update) {
              slideshow.update();
            }

            window.dispatchEvent(new Event('resize'));
          } else {
            content.style.display = 'none';
            content.classList.add('hidden');
          }
        });

        if (shopAllBtn && collectionsData[targetHandle]) {
          const data = collectionsData[targetHandle];
          shopAllBtn.href = data.url;
          shopAllBtn.textContent = 'SHOP ALL ' + data.title.toUpperCase();
          shopAllBtn.setAttribute('data-collection-handle', targetHandle);
        }

        setTimeout(updateScrollbar, 0);
      });
    });
  });
</script>

{% schema %}
{
  "name": "Shop By Age",
  "class": "ui-test-shop-by-age",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "blocks": [
    {
      "type": "age_group",
      "name": "Age Group",
      "settings": [
        {
          "type": "collection",
          "id": "collection",
          "label": "Collection",
          "info": "Select the collection for this age group. Sub-collections will be loaded from the collection's metafield 'custom.cb_sub_collections'."
        },
        {
          "type": "text",
          "id": "name",
          "label": "Tab Name",
          "info": "Optional: Custom name for the tab. If not provided, the collection name will be used."
        }
      ]
    }
  ],
  "settings": [
    {
      "type": "header",
      "content": "Section Header"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading"
    },
    {
      "type": "header",
      "content": "Carousel Settings"
    },
    {
      "type": "select",
      "id": "layout_type",
      "label": "Layout type",
      "options": [
        {
          "value": "carousel",
          "label": "Carousel"
        }
      ],
      "default": "carousel"
    },
    {
      "type": "range",
      "id": "columns",
      "label": "Columns",
      "min": 1,
      "max": 8,
      "step": 1,
      "default": 4
    },
    {
      "type": "select",
      "id": "mobile_card_size",
      "label": "Mobile card size",
      "options": [
        {
          "value": "60cqw",
          "label": "Large"
        },
        {
          "value": "44cqw",
          "label": "Small"
        }
      ],
      "default": "44cqw"
    },
    {
      "type": "range",
      "id": "columns_gap",
      "label": "Horizontal gap",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "header",
      "content": "Carousel Navigation"
    },
    {
      "type": "select",
      "id": "icons_style",
      "label": "Icon style",
      "options": [
        {
          "value": "arrow",
          "label": "Arrows"
        },
        {
          "value": "chevron",
          "label": "Chevrons"
        },
        {
          "value": "arrows_large",
          "label": "Large arrows"
        },
        {
          "value": "chevron_large",
          "label": "Large chevrons"
        },
        {
          "value": "blue_arrows",
          "label": "Blue arrows"
        },
        {
          "value": "none",
          "label": "None"
        }
      ],
      "default": "chevron"
    },
    {
      "type": "select",
      "id": "icons_shape",
      "label": "Icon background",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "circle",
          "label": "Circle"
        },
        {
          "value": "square",
          "label": "Square"
        }
      ],
      "default": "circle"
    },
    {
      "type": "checkbox",
      "id": "enable_shop_all",
      "label": "Show 'Shop all' button",
      "default": true
    },
    {
      "type": "header",
      "content": "Section Layout"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Width",
      "options": [
        {
          "value": "page-width",
          "label": "Page width"
        },
        {
          "value": "full-width",
          "label": "Full width"
        }
      ],
      "default": "page-width"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "Top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 48
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "Bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 48
    }
  ],
  "presets": [
    {
      "name": "Shop By Age",
      "category": "Collections",
      "blocks": [
        {
          "type": "age_group",
          "settings": {}
        },
        {
          "type": "age_group",
          "settings": {}
        }
      ],
      "settings": {
        "heading": "shop",
        "subheading": "By Age",
        "layout_type": "carousel",
        "columns": 4,
        "columns_gap": 12,
        "mobile_card_size": "44cqw",
        "icons_style": "chevron",
        "icons_shape": "circle",
        "enable_shop_all": true,
        "section_width": "page-width",
        "gap": 12,
        "color_scheme": "scheme-1",
        "padding-block-start": 48,
        "padding-block-end": 48
      }
    }
  ]
}
{% endschema %}
